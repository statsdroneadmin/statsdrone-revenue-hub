<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Episodes | Revenue Optimization with StatsDrone</title>
    <meta name="description" content="Browse all episodes of Revenue Optimization with StatsDrone. Expert insights on affiliate marketing, revenue strategies, and business growth.">
    <meta name="keywords" content="podcast episodes, revenue optimization, affiliate marketing, StatsDrone, business podcast">
    <meta name="author" content="StatsDrone">
    <link rel="canonical" href="https://revenueoptimization.io/episodes.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://revenueoptimization.io/episodes.html">
    <meta property="og:title" content="All Episodes | Revenue Optimization with StatsDrone">
    <meta property="og:description" content="Browse all episodes of Revenue Optimization with StatsDrone. Expert insights on affiliate marketing and revenue strategies.">
    <meta property="og:image" content="https://revenueoptimization.io/images/podcast-cover.png">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://revenueoptimization.io/episodes.html">
    <meta name="twitter:title" content="All Episodes | Revenue Optimization with StatsDrone">
    <meta name="twitter:description" content="Browse all episodes of Revenue Optimization with StatsDrone. Expert insights on affiliate marketing and revenue strategies.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "CollectionPage",
        "name": "All Episodes - Revenue Optimization with StatsDrone",
        "description": "Browse all episodes of Revenue Optimization with StatsDrone podcast.",
        "url": "https://revenueoptimization.io/episodes.html",
        "isPartOf": {
            "@type": "PodcastSeries",
            "name": "Revenue Optimization with StatsDrone",
            "url": "https://revenueoptimization.io"
        }
    }
    </script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-custom fixed-top">
        <div class="container">
            <div class="navbar-brand-icons d-flex align-items-center gap-3">
                <a href="https://open.spotify.com/show/0nTNXugQTY4Ww8JiSULeiu" target="_blank" rel="noopener noreferrer" title="Listen on Spotify" class="nav-platform-icon">
                    <img src="images/spotify-icon.svg" alt="Spotify" width="28" height="28">
                </a>
                <a href="https://podcasts.apple.com/ca/podcast/revenue-optimization-with-statsdrone/id1700893670" target="_blank" rel="noopener noreferrer" title="Listen on Apple Podcasts" class="nav-platform-icon">
                    <img src="images/apple-podcasts-icon.svg" alt="Apple Podcasts" width="28" height="28">
                </a>
                <a href="https://www.youtube.com/watch?v=NKHxEFxKXXA&list=PLxACGKJVEhOk31EcEPhnao6O1SSpu8Qaa" target="_blank" rel="noopener noreferrer" title="Watch on YouTube" class="nav-platform-icon">
                    <img src="images/youtube-icon.svg" alt="YouTube" width="32" height="22">
                </a>
            </div>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav align-items-center">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="episodes.html">Episodes</a>
                    </li>
                    <li class="nav-item ms-lg-3">
                        <a class="btn btn-accent" href="index.html#platforms">Listen Now</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Episodes Section -->
    <section class="episodes-section">
        <div class="container">
            <!-- Page Header -->
            <div class="text-center mb-5">
                <h1 class="section-title">All <span class="gradient-text">Episodes</span></h1>
                <p class="section-description">
                    Explore our complete archive of episodes featuring insights on revenue optimization and affiliate marketing.
                </p>
            </div>

            <!-- Episodes Container -->
            <div class="row justify-content-center">
                <div class="col-lg-10 col-xl-8">
                    <div id="episodes-container">
                        <!-- Loading Skeletons -->
                        <div id="loading-skeletons">
                            <div class="episode-card">
                                <div class="d-flex flex-column flex-md-row gap-4">
                                    <div class="skeleton skeleton-image"></div>
                                    <div class="flex-grow-1">
                                        <div class="skeleton skeleton-title"></div>
                                        <div class="skeleton skeleton-meta"></div>
                                        <div class="skeleton skeleton-text"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="episode-card">
                                <div class="d-flex flex-column flex-md-row gap-4">
                                    <div class="skeleton skeleton-image"></div>
                                    <div class="flex-grow-1">
                                        <div class="skeleton skeleton-title"></div>
                                        <div class="skeleton skeleton-meta"></div>
                                        <div class="skeleton skeleton-text"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="episode-card">
                                <div class="d-flex flex-column flex-md-row gap-4">
                                    <div class="skeleton skeleton-image"></div>
                                    <div class="flex-grow-1">
                                        <div class="skeleton skeleton-title"></div>
                                        <div class="skeleton skeleton-meta"></div>
                                        <div class="skeleton skeleton-text"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Episodes will be loaded here -->
                        <div id="episodes-list"></div>
                        
                        <!-- Error State -->
                        <div id="error-state" class="error-state" style="display: none;">
                            <p class="error-message">Unable to load episodes. Please try again later.</p>
                            <button class="btn btn-accent" onclick="fetchEpisodes()">Try Again</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row align-items-center text-center text-md-start">
                <div class="col-md-4 mb-3 mb-md-0">
                    <div class="footer-brand">
                        <span class="gradient-text">Revenue Optimization</span> with StatsDrone
                    </div>
                    <p class="footer-tagline">Optimizing revenue, one episode at a time.</p>
                </div>
                <div class="col-md-4 mb-3 mb-md-0 text-center">
                    <a href="index.html" class="footer-link">Home</a>
                    <a href="episodes.html" class="footer-link">Episodes</a>
                </div>
                <div class="col-md-4 text-md-end">
                    <p class="footer-copyright mb-0">&copy; 2024 StatsDrone. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Episodes Loading Script -->
    <script>
        const RSS_FEED_URL = 'https://feeds.castplus.fm/affiliatebi';
        const CORS_PROXIES = [
            (url) => `https://corsproxy.io/?${encodeURIComponent(url)}`,
            (url) => `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`
        ];

        function formatDate(dateString) {
            try {
                const date = new Date(dateString);
                return date.toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
            } catch {
                return dateString;
            }
        }

        function formatDuration(duration) {
            if (!duration) return '';
            if (duration.includes(':')) return duration;
            
            const seconds = parseInt(duration, 10);
            if (isNaN(seconds)) return duration;
            
            const hours = Math.floor(seconds / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = seconds % 60;
            
            if (hours > 0) {
                return `${hours}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }
            return `${minutes}:${secs.toString().padStart(2, '0')}`;
        }

        function stripHtml(html) {
            const tmp = document.createElement('div');
            tmp.innerHTML = html;
            return tmp.textContent || tmp.innerText || '';
        }

        function createEpisodeCard(episode) {
            return `
                <article class="episode-card" itemscope itemtype="https://schema.org/PodcastEpisode">
                    <div class="d-flex flex-column flex-md-row gap-4">
                        <div class="episode-image">
                            ${episode.image 
                                ? `<img src="${episode.image}" alt="${episode.title}" itemprop="image" loading="lazy">`
                                : `<div class="episode-image-placeholder">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polygon points="5 3 19 12 5 21 5 3"></polygon>
                                    </svg>
                                   </div>`
                            }
                        </div>
                        <div class="flex-grow-1">
                            <h2 class="episode-title" itemprop="name">${episode.title}</h2>
                            <div class="episode-meta">
                                ${episode.pubDate ? `
                                    <span itemprop="datePublished" content="${episode.pubDate}">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                            <line x1="16" y1="2" x2="16" y2="6"></line>
                                            <line x1="8" y1="2" x2="8" y2="6"></line>
                                            <line x1="3" y1="10" x2="21" y2="10"></line>
                                        </svg>
                                        ${formatDate(episode.pubDate)}
                                    </span>
                                ` : ''}
                                ${episode.duration ? `
                                    <span itemprop="duration">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <circle cx="12" cy="12" r="10"></circle>
                                            <polyline points="12 6 12 12 16 14"></polyline>
                                        </svg>
                                        ${formatDuration(episode.duration)}
                                    </span>
                                ` : ''}
                            </div>
                            <p class="episode-description" itemprop="description">${episode.description}...</p>
                            <div class="d-flex flex-wrap gap-2">
                                ${episode.audioUrl ? `
                                    <a href="${episode.audioUrl}" target="_blank" rel="noopener noreferrer" class="btn btn-accent btn-sm" itemprop="audio">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="me-1">
                                            <polygon points="5 3 19 12 5 21 5 3"></polygon>
                                        </svg>
                                        Play Episode
                                    </a>
                                ` : ''}
                                ${episode.link ? `
                                    <a href="${episode.link}" target="_blank" rel="noopener noreferrer" class="btn btn-outline-custom btn-sm" itemprop="url">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="me-1">
                                            <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                                            <polyline points="15 3 21 3 21 9"></polyline>
                                            <line x1="10" y1="14" x2="21" y2="3"></line>
                                        </svg>
                                        View Details
                                    </a>
                                ` : ''}
                            </div>
                        </div>
                    </div>
                </article>
            `;
        }

        async function fetchEpisodes() {
            const loadingSkeletons = document.getElementById('loading-skeletons');
            const episodesList = document.getElementById('episodes-list');
            const errorState = document.getElementById('error-state');
            
            loadingSkeletons.style.display = 'block';
            episodesList.innerHTML = '';
            errorState.style.display = 'none';
            
            let feedText = '';
            
            for (const proxyFn of CORS_PROXIES) {
                try {
                    const response = await fetch(proxyFn(RSS_FEED_URL));
                    if (response.ok) {
                        feedText = await response.text();
                        break;
                    }
                } catch (e) {
                    continue;
                }
            }
            
            if (!feedText) {
                loadingSkeletons.style.display = 'none';
                errorState.style.display = 'block';
                return;
            }
            
            try {
                const parser = new DOMParser();
                const xml = parser.parseFromString(feedText, 'text/xml');
                const items = xml.querySelectorAll('item');
                
                const episodes = [];
                items.forEach((item) => {
                    const title = item.querySelector('title')?.textContent || '';
                    const description = stripHtml(item.querySelector('description')?.textContent || '').slice(0, 300);
                    const pubDate = item.querySelector('pubDate')?.textContent || '';
                    const link = item.querySelector('link')?.textContent || '';
                    const enclosure = item.querySelector('enclosure');
                    const duration = item.querySelector('duration')?.textContent || 
                                    item.getElementsByTagName('itunes:duration')[0]?.textContent || '';
                    const image = item.querySelector('image')?.getAttribute('href') ||
                                 item.getElementsByTagName('itunes:image')[0]?.getAttribute('href') || '';
                    
                    episodes.push({
                        title,
                        description,
                        pubDate,
                        link,
                        duration,
                        image,
                        audioUrl: enclosure?.getAttribute('url') || ''
                    });
                });
                
                loadingSkeletons.style.display = 'none';
                
                if (episodes.length === 0) {
                    episodesList.innerHTML = '<p class="text-center text-muted py-5">No episodes found.</p>';
                } else {
                    episodesList.innerHTML = episodes.map(createEpisodeCard).join('');
                }
            } catch (e) {
                loadingSkeletons.style.display = 'none';
                errorState.style.display = 'block';
            }
        }

        // Fetch episodes on page load
        document.addEventListener('DOMContentLoaded', fetchEpisodes);
    </script>
</body>
</html>
